"use strict";

var userPlace = document.querySelector(".you"),
  userTablePlace = userPlace.querySelector(".table__block-place"),
  cases = document.querySelectorAll(".bonus__boxes-item"),
  getBtn = document.querySelector(".get-btn"),
  levels = document.querySelectorAll(".bonus__progress-lvl"),
  progressPopup = document.querySelector(".bonus__progress-popup"),
  progressPopupBtn = document.querySelector(".bonus__progress-title-btn"),
  progressPopupClose = document.querySelector(".bonus__progress-popup-close"),
  updPopup = document.querySelector(".bonus__warning"),
  updPopupBtn = document.querySelector(".bonus__upd-btn"),
  updPopupClose = document.querySelector(".bonus__warning-close"),
  resultPopup = document.querySelector(".result__subtitle-popup"),
  resultPopupBtn = document.querySelector(".result__subtitle-btn"),
  resultPopupBtnClose = document.querySelector(".result__subtitle-popup-close");
var currentLvl = sessionStorage.getItem("currentLvl") ? Number(sessionStorage.getItem("currentLvl")) : 1;
var lvlStatus = checkStatus();
var betWinCounter = sessionStorage.getItem("betWinCounter") ? Number(sessionStorage.getItem("betWinCounter")) : 0;
function checkStatus() {
  betWinCounter < 6 ? document.querySelector(".result__table").classList.add("_lock") : null;
  var activeLvl = document.querySelector(".bonus__progress-lvl._active");
  var conditions = {
    bet: {
      1: betWinCounter > 1,
      2: betWinCounter > 3,
      3: betWinCounter > 5
    },
    lvl: {
      1: currentLvl === 1,
      2: currentLvl === 2,
      3: currentLvl === 3
    }
  };
  getBtn.classList.add("_lock");
  if (conditions.bet[currentLvl] && conditions.lvl[currentLvl]) {
    lvlStatus = true;
    refreshLvl(currentLvl, lvlStatus);
    getBtn.classList.remove("_lock");
    if (activeLvl) activeLvl.classList.add("_up");
    return lvlStatus;
  }
  lvlStatus = false;
  refreshLvl(currentLvl, lvlStatus);
  return false;
}
function refreshLvl(currentLvl, lvlStatus) {
  levels.forEach(function (lvl, i) {
    lvl.classList.remove("_active");
    lvl.classList.remove("_done");
    lvl.classList.remove("_void");
    lvl.classList.remove("_up");
    if (++i === currentLvl) {
      lvl.classList.add("_active");
      if (lvlStatus === true) {
        lvl.classList.add("_up");
      }
      if (currentLvl === 1 && betWinCounter <= 0 && lvlStatus === false) {
        lvl.classList.add("_void");
      }
      if (currentLvl === 1 && betWinCounter <= 0 && lvlStatus === true) {
        lvl.classList.remove("_void");
      }
      if (currentLvl === 2 && betWinCounter <= 2 && lvlStatus === false) {
        lvl.classList.add("_void");
      }
      if (currentLvl === 2 && betWinCounter <= 2 && lvlStatus === true) {
        lvl.classList.remove("_void");
      }
      if (currentLvl === 3 && betWinCounter <= 4 && lvlStatus === false) {
        lvl.classList.add("_void");
      }
      if (currentLvl === 3 && betWinCounter <= 4 && lvlStatus === true) {
        lvl.classList.remove("_void");
      }
    } else {
      lvl.classList.remove("_active");
    }
    // console.log(i < currentLvl, i , currentLvl, lvl)
    i < currentLvl ? lvl.classList.add("_done") : null;
  });
}
function refreshCases(currentLvl) {
  cases.forEach(function (box, i) {
    box.classList.remove("_active", "_left", "_right", "_lock");
  });
  var activeIndex = currentLvl - 1;
  if (activeIndex >= cases.length) {
    activeIndex = cases.length - 1;
  }
  var prevIndex = activeIndex - 1 < 0 ? cases.length - 1 : activeIndex - 1;
  var nextIndex = activeIndex + 1 >= cases.length ? 0 : activeIndex + 1;
  cases[activeIndex].classList.add("_active");
  cases[prevIndex].classList.add("_left");
  cases[nextIndex].classList.add("_right");
  cases.forEach(function (box, i) {
    if (i !== activeIndex) {
      box.classList.add("_lock");
    }
  });
}
refreshCases(currentLvl);
function lvlUp() {
  currentLvl = currentLvl + 1;
  sessionStorage.setItem("currentLvl", "".concat(currentLvl));
  checkStatus();
  return lvlStatus;
}
checkStatus();
var idArr = userTablePlace.textContent.split("");

// console.log(idArr)

if (idArr.length === 1) {
  userTablePlace.classList.add('_one');
}
if (idArr.length === 2) {
  userTablePlace.classList.add('_two');
}
if (idArr.length === 3) {
  userTablePlace.classList.add('_three');
}
if (idArr.length === 4) {
  userTablePlace.classList.add('_four');
}
if (idArr.length === 5) {
  userTablePlace.classList.add('_five');
}
function openCaseAnim(box) {
  box.classList.add("shake");
  box.querySelector(".box__cap").classList.add("open");
  getBtn.classList.add("_lock");
  setTimeout(function () {
    box.querySelector(".box__cap-front").classList.add("hide");
  }, 300);
  setTimeout(function () {
    box.classList.add("_show");
  }, 450);
  setTimeout(function () {
    lvlUp();
    refreshCases(currentLvl);
    checkStatus();
  }, 4000);
}
getBtn.addEventListener('click', function () {
  cases.forEach(function (box, i) {
    if (box.classList.contains("_active")) {
      openCaseAnim(box);
      // getBtn.classList.add("_lock")
      // checkStatus()
    }
  });
});

function setPopup(btnOpen, btnClose, popup, hide) {
  btnOpen.addEventListener("click", function () {
    popup.classList.remove("hide");
    if (hide) {
      btnOpen.parentNode.style.opacity = "0";
    }
  });
  if (btnClose) {
    btnClose.addEventListener("click", function () {
      popup.classList.add("hide");
      if (hide) {
        btnOpen.parentNode.style.opacity = "1";
      }
    });
    document.addEventListener("click", function (e) {
      if (!popup.contains(e.target) && e.target !== btnOpen) {
        popup.classList.add("hide");
      }
    });
  }
}
setPopup(progressPopupBtn, progressPopupClose, progressPopup);
setPopup(updPopupBtn, updPopupClose, updPopup, true);
setPopup(resultPopupBtn, resultPopupBtnClose, resultPopup, true);
function startCountdown(endTime) {
  var hoursEls = document.querySelectorAll(".timer__hours-item");
  var minutesEls = document.querySelectorAll(".timer__minutes-item");
  var secondsEls = document.querySelectorAll(".timer__seconds-item");
  function updateTimer() {
    var now = new Date().getTime();
    var timeLeft = endTime - now;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      updateDigits(hoursEls, "00");
      updateDigits(minutesEls, "00");
      updateDigits(secondsEls, "00");
      return;
    }
    var hours = Math.floor(timeLeft / (1000 * 60 * 60) % 24);
    var minutes = Math.floor(timeLeft / (1000 * 60) % 60);
    var seconds = Math.floor(timeLeft / 1000 % 60);
    updateDigits(hoursEls, String(hours).padStart(2, "0"));
    updateDigits(minutesEls, String(minutes).padStart(2, "0"));
    updateDigits(secondsEls, String(seconds).padStart(2, "0"));
  }
  function updateDigits(elements, value) {
    elements[0].textContent = value[0];
    elements[1].textContent = value[1];
  }
  updateTimer();
  var timerInterval = setInterval(updateTimer, 1000);
}
var now = new Date();
var endOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59).getTime();
startCountdown(endOfDay);
document.querySelector(".menu-btn").addEventListener("click", function () {
  document.querySelector(".menu-test").classList.toggle("hidden");
});
document.querySelector(".btn-lvl").addEventListener("click", function () {
  document.querySelector(".lvl-menu").classList.toggle("hidden");
});
var lvl1 = document.querySelector(".lvl-1");
var lvl2 = document.querySelector(".lvl-2");
var lvl3 = document.querySelector(".lvl-3");
var lvlUpBtn = document.querySelector(".lvl-up");
var betWin = document.querySelector(".bet-win");
var betClear = document.querySelector(".bet-clear");
var btnLock = document.querySelector(".btn-lock");
betWin.textContent = "win bet: ".concat(betWinCounter);
betWin.addEventListener("click", function () {
  betWinCounter = sessionStorage.getItem("betWinCounter") ? Number(sessionStorage.getItem("betWinCounter")) : 0;
  betWinCounter = betWinCounter + 1;
  sessionStorage.setItem("betWinCounter", betWinCounter);
  betWin.textContent = "win bet: ".concat(betWinCounter);
  // refreshLvl(currentLvl)
  checkStatus();
});
betClear.addEventListener("click", function () {
  sessionStorage.removeItem("betWinCounter");
  betWinCounter = 0;
  betWin.textContent = "win bet: 0";
  checkStatus();
  sessionStorage.setItem("currentLvl", "1");
  window.location.reload();
  // refreshLvl(currentLvl, lvlStatus)
});

lvl1.addEventListener("click", function () {
  sessionStorage.setItem("currentLvl", "1");
  window.location.reload();
});
lvl2.addEventListener("click", function () {
  sessionStorage.setItem("currentLvl", "2");
  window.location.reload();
});
lvl3.addEventListener("click", function () {
  sessionStorage.setItem("currentLvl", "3");
  window.location.reload();
});
lvlUpBtn.addEventListener("click", function () {
  lvlStatus = !lvlStatus;
  checkStatus();
  lvlStatus = !lvlStatus;
});
btnLock.addEventListener("click", function () {
  document.querySelector(".result__table").classList.toggle("_lock");
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidXNlclBsYWNlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidXNlclRhYmxlUGxhY2UiLCJjYXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRCdG4iLCJsZXZlbHMiLCJwcm9ncmVzc1BvcHVwIiwicHJvZ3Jlc3NQb3B1cEJ0biIsInByb2dyZXNzUG9wdXBDbG9zZSIsInVwZFBvcHVwIiwidXBkUG9wdXBCdG4iLCJ1cGRQb3B1cENsb3NlIiwicmVzdWx0UG9wdXAiLCJyZXN1bHRQb3B1cEJ0biIsInJlc3VsdFBvcHVwQnRuQ2xvc2UiLCJjdXJyZW50THZsIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiTnVtYmVyIiwibHZsU3RhdHVzIiwiY2hlY2tTdGF0dXMiLCJiZXRXaW5Db3VudGVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWN0aXZlTHZsIiwiY29uZGl0aW9ucyIsImJldCIsImx2bCIsInJlZnJlc2hMdmwiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaSIsInJlZnJlc2hDYXNlcyIsImJveCIsImFjdGl2ZUluZGV4IiwibGVuZ3RoIiwicHJldkluZGV4IiwibmV4dEluZGV4IiwibHZsVXAiLCJzZXRJdGVtIiwiaWRBcnIiLCJ0ZXh0Q29udGVudCIsInNwbGl0Iiwib3BlbkNhc2VBbmltIiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsInNldFBvcHVwIiwiYnRuT3BlbiIsImJ0bkNsb3NlIiwicG9wdXAiLCJoaWRlIiwicGFyZW50Tm9kZSIsInN0eWxlIiwib3BhY2l0eSIsImUiLCJ0YXJnZXQiLCJzdGFydENvdW50ZG93biIsImVuZFRpbWUiLCJob3Vyc0VscyIsIm1pbnV0ZXNFbHMiLCJzZWNvbmRzRWxzIiwidXBkYXRlVGltZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsInRpbWVMZWZ0IiwiY2xlYXJJbnRlcnZhbCIsInRpbWVySW50ZXJ2YWwiLCJ1cGRhdGVEaWdpdHMiLCJob3VycyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiU3RyaW5nIiwicGFkU3RhcnQiLCJlbGVtZW50cyIsInZhbHVlIiwic2V0SW50ZXJ2YWwiLCJlbmRPZkRheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwidG9nZ2xlIiwibHZsMSIsImx2bDIiLCJsdmwzIiwibHZsVXBCdG4iLCJiZXRXaW4iLCJiZXRDbGVhciIsImJ0bkxvY2siLCJyZW1vdmVJdGVtIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsU0FBUyxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxNQUFNLENBQUM7RUFDNUNDLGNBQWMsR0FBR0gsU0FBUyxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUM7RUFDL0RFLEtBQUssR0FBR0gsUUFBUSxDQUFDSSxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztFQUN2REMsTUFBTSxHQUFHTCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxVQUFVLENBQUM7RUFDM0NLLE1BQU0sR0FBR04sUUFBUSxDQUFDSSxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQztFQUMxREcsYUFBYSxHQUFHUCxRQUFRLENBQUNDLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQztFQUNoRU8sZ0JBQWdCLEdBQUdSLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLDRCQUE0QixDQUFDO0VBQ3ZFUSxrQkFBa0IsR0FBR1QsUUFBUSxDQUFDQyxhQUFhLENBQUMsOEJBQThCLENBQUM7RUFDM0VTLFFBQVEsR0FBR1YsUUFBUSxDQUFDQyxhQUFhLENBQUMsaUJBQWlCLENBQUM7RUFDcERVLFdBQVcsR0FBR1gsUUFBUSxDQUFDQyxhQUFhLENBQUMsaUJBQWlCLENBQUM7RUFDdkRXLGFBQWEsR0FBR1osUUFBUSxDQUFDQyxhQUFhLENBQUMsdUJBQXVCLENBQUM7RUFDL0RZLFdBQVcsR0FBR2IsUUFBUSxDQUFDQyxhQUFhLENBQUMseUJBQXlCLENBQUM7RUFDL0RhLGNB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TUFBTSxFQUFFO0FBQzVCLENBQUMsQ0FBQztBQUNGVCxJQUFJLENBQUN6QyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBSztFQUNoQzdCLGNBQWMsQ0FBQ3VCLE9BQU8sQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDO0VBQ3pDc0QsTUFBTSxDQUFDQyxRQUFRLENBQUNDLE1BQU0sRUFBRTtBQUM1QixDQUFDLENBQUM7QUFDRlIsSUFBSSxDQUFDMUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQUs7RUFDaEM3QixjQUFjLENBQUN1QixPQUFPLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQztFQUN6Q3NELE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxNQUFNLEVBQUU7QUFDNUIsQ0FBQyxDQUFDO0FBRUZQLFFBQVEsQ0FBQzNDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO0VBQ3BDMUIsU0FBUyxHQUFHLENBQUNBLFNBQVM7RUFDdEJDLFdBQVcsRUFBRTtFQUNiRCxTQUFTLEdBQUcsQ0FBQ0EsU0FBUztBQUUxQixDQUFDLENBQUM7QUFFRndFLE9BQU8sQ0FBQzlDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO0VBQ25DOUMsUUFBUSxDQUFDQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ3NCLFNBQVMsQ0FBQzhELE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDdEUsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1c2VyUGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnlvdVwiKSxcbiAgICB1c2VyVGFibGVQbGFjZSA9IHVzZXJQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLnRhYmxlX19ibG9jay1wbGFjZVwiKSxcbiAgICBjYXNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9udXNfX2JveGVzLWl0ZW1cIiksXG4gICAgZ2V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nZXQtYnRuXCIpLFxuICAgIGxldmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9udXNfX3Byb2dyZXNzLWx2bFwiKSxcbiAgICBwcm9ncmVzc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib251c19fcHJvZ3Jlc3MtcG9wdXBcIiksXG4gICAgcHJvZ3Jlc3NQb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm9udXNfX3Byb2dyZXNzLXRpdGxlLWJ0blwiKSxcbiAgICBwcm9ncmVzc1BvcHVwQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvbnVzX19wcm9ncmVzcy1wb3B1cC1jbG9zZVwiKSxcbiAgICB1cGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm9udXNfX3dhcm5pbmdcIiksXG4gICAgdXBkUG9wdXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvbnVzX191cGQtYnRuXCIpLFxuICAgIHVwZFBvcHVwQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvbnVzX193YXJuaW5nLWNsb3NlXCIpLFxuICAgIHJlc3VsdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3N1YnRpdGxlLXBvcHVwXCIpLFxuICAgIHJlc3VsdFBvcHVwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3N1YnRpdGxlLWJ0blwiKSxcbiAgICByZXN1bHRQb3B1cEJ0bkNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRfX3N1YnRpdGxlLXBvcHVwLWNsb3NlXCIpO1xuXG5sZXQgY3VycmVudEx2bCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50THZsXCIpID8gTnVtYmVyKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50THZsXCIpKSA6IDFcblxubGV0IGx2bFN0YXR1cyA9IGNoZWNrU3RhdHVzKCk7XG5sZXQgYmV0V2luQ291bnRlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJiZXRXaW5Db3VudGVyXCIpID8gTnVtYmVyKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJiZXRXaW5Db3VudGVyXCIpKSA6IDBcblxuXG5mdW5jdGlvbiBjaGVja1N0YXR1cygpIHtcbiAgICBiZXRXaW5Db3VudGVyIDwgNiA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0X190YWJsZVwiKS5jbGFzc0xpc3QuYWRkKFwiX2xvY2tcIikgOiBudWxsXG4gICAgY29uc3QgYWN0aXZlTHZsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib251c19fcHJvZ3Jlc3MtbHZsLl9hY3RpdmVcIik7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IHtcbiAgICAgICAgYmV0OiB7XG4gICAgICAgICAgICAxOiBiZXRXaW5Db3VudGVyID4gMSxcbiAgICAgICAgICAgIDI6IGJldFdpbkNvdW50ZXIgPiAzLFxuICAgICAgICAgICAgMzogYmV0V2luQ291bnRlciA+IDUsXG4gICAgICAgIH0sXG4gICAgICAgIGx2bDoge1xuICAgICAgICAgICAgMTogY3VycmVudEx2bCA9PT0gMSxcbiAgICAgICAgICAgIDI6IGN1cnJlbnRMdmwgPT09IDIsXG4gICAgICAgICAgICAzOiBjdXJyZW50THZsID09PSAzLFxuICAgICAgICB9XG5cbiAgICB9O1xuICAgIGdldEJ0bi5jbGFzc0xpc3QuYWRkKFwiX2xvY2tcIik7XG4gICAgaWYgKGNvbmRpdGlvbnMuYmV0W2N1cnJlbnRMdmxdICYmIGNvbmRpdGlvbnMubHZsW2N1cnJlbnRMdmxdKSB7XG4gICAgICAgIGx2bFN0YXR1cyA9IHRydWU7XG4gICAgICAgIHJlZnJlc2hMdmwoY3VycmVudEx2bCwgbHZsU3RhdHVzKTtcbiAgICAgICAgZ2V0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJfbG9ja1wiKTtcblxuICAgICAgICBpZiAoYWN0aXZlTHZsKSBhY3RpdmVMdmwuY2xhc3NMaXN0LmFkZChcIl91cFwiKTtcblxuICAgICAgICByZXR1cm4gbHZsU3RhdHVzO1xuICAgIH1cbiAgICBsdmxTdGF0dXMgPSBmYWxzZTtcbiAgICByZWZyZXNoTHZsKGN1cnJlbnRMdmwsIGx2bFN0YXR1cylcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlZnJlc2hMdmwoY3VycmVudEx2bCwgbHZsU3RhdHVzKXtcbiAgICBsZXZlbHMuZm9yRWFjaCgobHZsLCBpKSA9PntcbiAgICAgICAgbHZsLmNsYXNzTGlzdC5yZW1vdmUoXCJfYWN0aXZlXCIpXG4gICAgICAgIGx2bC5jbGFzc0xpc3QucmVtb3ZlKFwiX2RvbmVcIilcbiAgICAgICAgbHZsLmNsYXNzTGlzdC5yZW1vdmUoXCJfdm9pZFwiKVxuICAgICAgICBsdmwuY2xhc3NMaXN0LnJlbW92ZShcIl91cFwiKVxuICAgICAgICBpZigrK2kgPT09IGN1cnJlbnRMdmwpIHtcbiAgICAgICAgICAgIGx2bC5jbGFzc0xpc3QuYWRkKFwiX2FjdGl2ZVwiKVxuXG4gICAgICAgICAgICBpZiAobHZsU3RhdHVzID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBsdmwuY2xhc3NMaXN0LmFkZChcIl91cFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY3VycmVudEx2bCA9PT0gMSAmJiBiZXRXaW5Db3VudGVyIDw9IDAgJiYgbHZsU3RhdHVzID09PSBmYWxzZSl7XG4gICAgICAgICAgICAgICAgbHZsLmNsYXNzTGlzdC5hZGQoXCJfdm9pZFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY3VycmVudEx2bCA9PT0gMSAmJiBiZXRXaW5Db3VudGVyIDw9IDAgJiYgbHZsU3RhdHVzID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBsdmwuY2xhc3NMaXN0LnJlbW92ZShcIl92b2lkXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGN1cnJlbnRMdmwgPT09IDIgJiYgYmV0V2luQ291bnRlciA8PSAyICYmIGx2bFN0YXR1cyA9PT0gZmFsc2UgKXtcbiAgICAgICAgICAgICAgICBsdmwuY2xhc3NMaXN0LmFkZChcIl92b2lkXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjdXJyZW50THZsID09PSAyICYmIGJldFdpbkNvdW50ZXIgPD0gMiAmJiBsdmxTdGF0dXMgPT09IHRydWUgKXtcbiAgICAgICAgICAgICAgICBsdmwuY2xhc3NMaXN0LnJlbW92ZShcIl92b2lkXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGN1cnJlbnRMdmwgPT09IDMgJiYgYmV0V2luQ291bnRlciA8PSA0ICYmIGx2bFN0YXR1cyA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICAgIGx2bC5jbGFzc0xpc3QuYWRkKFwiX3ZvaWRcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGN1cnJlbnRMdmwgPT09IDMgJiYgYmV0V2luQ291bnRlciA8PSA0ICYmIGx2bFN0YXR1cyA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgbHZsLmNsYXNzTGlzdC5yZW1vdmUoXCJfdm9pZFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbHZsLmNsYXNzTGlzdC5yZW1vdmUoXCJfYWN0aXZlXCIpXG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coaSA8IGN1cnJlbnRMdmwsIGkgLCBjdXJyZW50THZsLCBsdmwpXG4gICAgICAgIGkgPCBjdXJyZW50THZsID8gbHZsLmNsYXNzTGlzdC5hZGQoXCJfZG9uZVwiKSA6IG51bGxcbiAgICB9KVxuXG59XG5cbmZ1bmN0aW9uIHJlZnJlc2hDYXNlcyhjdXJyZW50THZsKSB7XG4gICAgY2FzZXMuZm9yRWFjaCgoYm94LCBpKSA9PiB7XG4gICAgICAgIGJveC5jbGFzc0xpc3QucmVtb3ZlKFwiX2FjdGl2ZVwiLCBcIl9sZWZ0XCIsIFwiX3JpZ2h0XCIsIFwiX2xvY2tcIik7XG4gICAgfSk7XG5cbiAgICBsZXQgYWN0aXZlSW5kZXggPSBjdXJyZW50THZsIC0gMTtcbiAgICBpZiAoYWN0aXZlSW5kZXggPj0gY2FzZXMubGVuZ3RoKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gY2FzZXMubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBsZXQgcHJldkluZGV4ID0gYWN0aXZlSW5kZXggLSAxIDwgMCA/IGNhc2VzLmxlbmd0aCAtIDEgOiBhY3RpdmVJbmRleCAtIDE7XG4gICAgbGV0IG5leHRJbmRleCA9IGFjdGl2ZUluZGV4ICsgMSA+PSBjYXNlcy5sZW5ndGggPyAwIDogYWN0aXZlSW5kZXggKyAxO1xuXG4gICAgY2FzZXNbYWN0aXZlSW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJfYWN0aXZlXCIpO1xuICAgIGNhc2VzW3ByZXZJbmRleF0uY2xhc3NMaXN0LmFkZChcIl9sZWZ0XCIpO1xuICAgIGNhc2VzW25leHRJbmRleF0uY2xhc3NMaXN0LmFkZChcIl9yaWdodFwiKTtcblxuICAgIGNhc2VzLmZvckVhY2goKGJveCwgaSkgPT4ge1xuICAgICAgICBpZiAoaSAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKFwiX2xvY2tcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5yZWZyZXNoQ2FzZXMoY3VycmVudEx2bClcblxuZnVuY3Rpb24gbHZsVXAoKXtcbiAgICBjdXJyZW50THZsID0gY3VycmVudEx2bCArIDFcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudEx2bFwiLCBgJHtjdXJyZW50THZsfWApXG4gICAgY2hlY2tTdGF0dXMoKVxuICAgIHJldHVybiBsdmxTdGF0dXNcbn1cblxuY2hlY2tTdGF0dXMoKVxuXG5sZXQgaWRBcnIgPSB1c2VyVGFibGVQbGFjZS50ZXh0Q29udGVudC5zcGxpdChcIlwiKVxuXG4vLyBjb25zb2xlLmxvZyhpZEFycilcblxuaWYoaWRBcnIubGVuZ3RoID09PSAxKXtcbiAgICB1c2VyVGFibGVQbGFjZS5jbGFzc0xpc3QuYWRkKCdfb25lJylcbn1cbmlmKGlkQXJyLmxlbmd0aCA9PT0gMil7XG4gICAgdXNlclRhYmxlUGxhY2UuY2xhc3NMaXN0LmFkZCgnX3R3bycpXG59XG5pZihpZEFyci5sZW5ndGggPT09IDMpe1xuICAgIHVzZXJUYWJsZVBsYWNlLmNsYXNzTGlzdC5hZGQoJ190aHJlZScpXG59XG5pZihpZEFyci5sZW5ndGggPT09IDQpe1xuICAgIHVzZXJUYWJsZVBsYWNlLmNsYXNzTGlzdC5hZGQoJ19mb3VyJylcbn1cblxuaWYoaWRBcnIubGVuZ3RoID09PSA1KXtcbiAgICB1c2VyVGFibGVQbGFjZS5jbGFzc0xpc3QuYWRkKCdfZml2ZScpXG59XG5cbmZ1bmN0aW9uIG9wZW5DYXNlQW5pbShib3gpe1xuICAgIGJveC5jbGFzc0xpc3QuYWRkKFwic2hha2VcIilcbiAgICBib3gucXVlcnlTZWxlY3RvcihcIi5ib3hfX2NhcFwiKS5jbGFzc0xpc3QuYWRkKFwib3BlblwiKVxuICAgIGdldEJ0bi5jbGFzc0xpc3QuYWRkKFwiX2xvY2tcIilcbiAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICBib3gucXVlcnlTZWxlY3RvcihcIi5ib3hfX2NhcC1mcm9udFwiKS5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKVxuICAgIH0sIDMwMClcbiAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICBib3guY2xhc3NMaXN0LmFkZChcIl9zaG93XCIpXG4gICAgfSwgNDUwKVxuICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgIGx2bFVwKClcbiAgICAgICAgcmVmcmVzaENhc2VzKGN1cnJlbnRMdmwpXG4gICAgICAgIGNoZWNrU3RhdHVzKClcbiAgICB9LCA0MDAwKVxufVxuXG5cblxuXG5nZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICBjYXNlcy5mb3JFYWNoKChib3gsIGkpID0+e1xuICAgICAgICBpZihib3guY2xhc3NMaXN0LmNvbnRhaW5zKFwiX2FjdGl2ZVwiKSl7XG4gICAgICAgICAgICBvcGVuQ2FzZUFuaW0oYm94KVxuICAgICAgICAgICAgLy8gZ2V0QnRuLmNsYXNzTGlzdC5hZGQoXCJfbG9ja1wiKVxuICAgICAgICAgICAgLy8gY2hlY2tTdGF0dXMoKVxuICAgICAgICB9XG5cbiAgICB9KVxuXG59KVxuXG5cbmZ1bmN0aW9uIHNldFBvcHVwKGJ0bk9wZW4sIGJ0bkNsb3NlLCBwb3B1cCwgaGlkZSl7XG4gICAgYnRuT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpXG4gICAgICAgIGlmKGhpZGUpe1xuICAgICAgICAgICAgYnRuT3Blbi5wYXJlbnROb2RlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuICAgICAgICB9XG4gICAgfSlcbiAgICBpZihidG5DbG9zZSl7XG4gICAgICAgIGJ0bkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PntcbiAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpXG4gICAgICAgICAgICBpZihoaWRlKXtcbiAgICAgICAgICAgICAgICBidG5PcGVuLnBhcmVudE5vZGUuc3R5bGUub3BhY2l0eSA9IFwiMVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT57XG4gICAgICAgICAgICBpZighcG9wdXAuY29udGFpbnMoZS50YXJnZXQpICYmIGUudGFyZ2V0ICE9PSBidG5PcGVuKXtcbiAgICAgICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxufVxuXG5zZXRQb3B1cChwcm9ncmVzc1BvcHVwQnRuLCBwcm9ncmVzc1BvcHVwQ2xvc2UsIHByb2dyZXNzUG9wdXApXG5zZXRQb3B1cCh1cGRQb3B1cEJ0biwgdXBkUG9wdXBDbG9zZSwgdXBkUG9wdXAsIHRydWUpXG5zZXRQb3B1cChyZXN1bHRQb3B1cEJ0biwgcmVzdWx0UG9wdXBCdG5DbG9zZSwgcmVzdWx0UG9wdXAsIHRydWUpXG5cbmZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duKGVuZFRpbWUpIHtcbiAgICBjb25zdCBob3Vyc0VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGltZXJfX2hvdXJzLWl0ZW1cIik7XG4gICAgY29uc3QgbWludXRlc0VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGltZXJfX21pbnV0ZXMtaXRlbVwiKTtcbiAgICBjb25zdCBzZWNvbmRzRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50aW1lcl9fc2Vjb25kcy1pdGVtXCIpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlVGltZXIoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCB0aW1lTGVmdCA9IGVuZFRpbWUgLSBub3c7XG5cbiAgICAgICAgaWYgKHRpbWVMZWZ0IDw9IDApIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICB1cGRhdGVEaWdpdHMoaG91cnNFbHMsIFwiMDBcIik7XG4gICAgICAgICAgICB1cGRhdGVEaWdpdHMobWludXRlc0VscywgXCIwMFwiKTtcbiAgICAgICAgICAgIHVwZGF0ZURpZ2l0cyhzZWNvbmRzRWxzLCBcIjAwXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKCh0aW1lTGVmdCAvICgxMDAwICogNjAgKiA2MCkpICUgMjQpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZUxlZnQgLyAoMTAwMCAqIDYwKSkgJSA2MCk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKCh0aW1lTGVmdCAvIDEwMDApICUgNjApO1xuXG4gICAgICAgIHVwZGF0ZURpZ2l0cyhob3Vyc0VscywgU3RyaW5nKGhvdXJzKS5wYWRTdGFydCgyLCBcIjBcIikpO1xuICAgICAgICB1cGRhdGVEaWdpdHMobWludXRlc0VscywgU3RyaW5nKG1pbnV0ZXMpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG4gICAgICAgIHVwZGF0ZURpZ2l0cyhzZWNvbmRzRWxzLCBTdHJpbmcoc2Vjb25kcykucGFkU3RhcnQoMiwgXCIwXCIpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVEaWdpdHMoZWxlbWVudHMsIHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnRzWzBdLnRleHRDb250ZW50ID0gdmFsdWVbMF07XG4gICAgICAgIGVsZW1lbnRzWzFdLnRleHRDb250ZW50ID0gdmFsdWVbMV07XG4gICAgfVxuXG4gICAgdXBkYXRlVGltZXIoKTtcbiAgICBjb25zdCB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlVGltZXIsIDEwMDApO1xufVxuXG5jb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuY29uc3QgZW5kT2ZEYXkgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCksIDIzLCA1OSwgNTkpLmdldFRpbWUoKTtcblxuc3RhcnRDb3VudGRvd24oZW5kT2ZEYXkpO1xuXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS10ZXN0XCIpLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbn0pXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1sdmxcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubHZsLW1lbnVcIikuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxufSlcblxuY29uc3QgbHZsMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubHZsLTFcIilcbmNvbnN0IGx2bDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmx2bC0yXCIpXG5jb25zdCBsdmwzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sdmwtM1wiKVxuY29uc3QgbHZsVXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmx2bC11cFwiKVxuY29uc3QgYmV0V2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iZXQtd2luXCIpXG5jb25zdCBiZXRDbGVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmV0LWNsZWFyXCIpXG5jb25zdCBidG5Mb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tbG9ja1wiKVxuXG5iZXRXaW4udGV4dENvbnRlbnQgPSBgd2luIGJldDogJHtiZXRXaW5Db3VudGVyfWBcblxuYmV0V2luLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PntcbiAgICBiZXRXaW5Db3VudGVyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImJldFdpbkNvdW50ZXJcIikgPyBOdW1iZXIoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImJldFdpbkNvdW50ZXJcIikpIDogMFxuICAgIGJldFdpbkNvdW50ZXIgPSBiZXRXaW5Db3VudGVyICsgMVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJiZXRXaW5Db3VudGVyXCIsIGJldFdpbkNvdW50ZXIpXG4gICAgYmV0V2luLnRleHRDb250ZW50ID0gYHdpbiBiZXQ6ICR7YmV0V2luQ291bnRlcn1gXG4gICAgLy8gcmVmcmVzaEx2bChjdXJyZW50THZsKVxuICAgIGNoZWNrU3RhdHVzKClcblxuXG59KVxuXG5iZXRDbGVhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImJldFdpbkNvdW50ZXJcIilcbiAgICBiZXRXaW5Db3VudGVyID0gMFxuICAgIGJldFdpbi50ZXh0Q29udGVudCA9IGB3aW4gYmV0OiAwYFxuICAgIGNoZWNrU3RhdHVzKClcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudEx2bFwiLCBcIjFcIilcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAvLyByZWZyZXNoTHZsKGN1cnJlbnRMdmwsIGx2bFN0YXR1cylcblxufSlcblxubHZsMS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRMdmxcIiwgXCIxXCIpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59KVxubHZsMi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRMdmxcIiwgXCIyXCIpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59KVxubHZsMy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRMdmxcIiwgXCIzXCIpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59KVxuXG5sdmxVcEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgbHZsU3RhdHVzID0gIWx2bFN0YXR1c1xuICAgIGNoZWNrU3RhdHVzKClcbiAgICBsdmxTdGF0dXMgPSAhbHZsU3RhdHVzXG5cbn0pXG5cbmJ0bkxvY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdWx0X190YWJsZVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiX2xvY2tcIilcbn0pIl19
